import math;
import test;

export function test_right_shift_keeps_sign() {
    test.assert(math.shr(-123, 1) == -62);
}

export function test_left_shift_overflow() {
    let [ok, result] = pcall(function () {
        return math.shl(1, 63);
    });
    test.assert(!ok);
}

export function test_left_shift() {
    test.assert(math.shl(1, 1) == 2);
    test.assert(math.shl(1, 10) == 1024);
}

export function test_right_shift() {
    test.assert(math.shr(3, 1) == 1);
    test.assert(math.shr(8, 2) == 2);
}